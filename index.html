<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <!--
    Use only pure Javascript (no jQuery etc.).

    On load:
    1). Create square div containerSize * containerSize size.
    2). Create inside it numberOfChildren square divs which:
        - do no overlap each other
        - are fully contained within the container div
        - has size childSize * childSize
        - has random background color
        - when you hover it longer then 3 seconds it disappears

    -->
    <script>
        function Blocks(containerSize, childSize, numberOfChildren) {
            // Check if all boxes will fit the box
            var maxRowSize = Math.floor(containerSize/childSize);
            var maxNumberOfChildren = maxRowSize * maxRowSize;
            if (maxNumberOfChildren < numberOfChildren) {
                numberOfChildren = maxNumberOfChildren;
            }
            
            // Create boxes
            var container = this.createBox(containerSize);
            container.appendChild(this.createChildBoxes(childSize, numberOfChildren));
            document.body.appendChild(container);

            // Hover
            container.addEventListener('mouseover', this.onMouseOver.bind(this));
            container.addEventListener('mouseout', this.onMouseOut.bind(this));
        }

        Blocks.prototype = {
            hoverTimeout: 3000,

            createBox: function(size, color) {
                var box = document.createElement('div');
                box.className = 'box';
                box.style.width = box.style.height = size + 'px';
                if (color !== undefined) {                    
                    box.style.background = box.style.color = color;
                }
                return box;
            },

            createChildBoxes: function(size, count) {
                var fragment = document.createDocumentFragment();
                for (var boxIdx = 0; boxIdx < count; boxIdx++) {
                    fragment.appendChild(this.createBox(size, this.getRandomColor()));
                }
                return fragment;
            },

            getRandomColor: function() {
                return '#' + ('00000' + (Math.floor(Math.random() * 0xffffff)).toString(16)).slice(-6);
            },

            onMouseOver: function(event) {
                if (event.target.parentNode.className !== 'box') return;  // We need only child boxes
                this.hoverTimer = setTimeout(this.removeBox.bind(this, event.target), this.hoverTimeout);
            },

            onMouseOut: function() {
                if (this.hoverTimer) {
                    clearTimeout(this.hoverTimer);
                }
            },

            removeBox: function(element) {
                element.parentNode.removeChild(element);
            }
        };

        window.addEventListener('load', function() {
            function random(min, max) {
                return Math.random() * (max - min) + min;
            }
            new Blocks(random(200, window.innerHeight), random(50, 150), random(10, 100));
        });
    </script>
    <style>
        .box {
            background:#f3f3f3;
            }
            .box .box {
                float:left;
                }
                .box .box:hover {
                    position:relative;
                    box-shadow:0 0 10px 1px currentColor;
                    outline:1px solid currentColor;
                    cursor:cell;
                    }
    </style>
</head>
<body>
    <!-- Do not put here anything. All DOM must be generated by JS-->
</body>
</html>